<!doctype html>
<html>
<head>
	<title>Weather API</title>
	<meta charset="utf-8"/>
	<script>
		function getFlightInfo() {
			const data = null;

const xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
	if (this.readyState === this.DONE) {
		console.log(this.responseText);
	}
});

xhr.open("GET", "https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/USD/en-US/SFO-sky/JFK-sky/2019-09-01?inboundpartialdate=2019-12-01");
xhr.setRequestHeader("x-rapidapi-key", "5b22f57a9emsh5bfd6ed8f2d0791p1b73f3jsn4e179dc6c28f");
xhr.setRequestHeader("x-rapidapi-host", "skyscanner-skyscanner-flight-search-v1.p.rapidapi.com");

xhr.send(data);
		}
		/*function getFlightInfo() {
			
			request = new XMLHttpRequest();
			console.log("1 - request object created");
			
			request.withCredentials = true;
 
		request.open("GET", "https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browsequotes/v1.0/US/USD/en-US/SFO-sky/JFK-sky/2019-09-01?inboundpartialdate=2019-12-01", true)
			console.log("2 - opened request file");
			
		request.setRequestHeader("x-rapidapi-key", "5b22f57a9emsh5bfd6ed8f2d0791p1b73f3jsn4e179dc6c28f");
		request.setRequestHeader("x-rapidapi-host", "skyscanner-skyscanner-flight-search-v1.p.rapidapi.com");

		request.onreadystatechange = function() {
 				console.log("3 - readystatechange event fired.");
				if (request.readyState == 4 && request.status == 200) {
					console.log("5 - response received");
					result = request.responseText;
					alert(result);
					flightInfo = JSON.parse(result);
					
					document.getElementById("data").innerHTML = flightInfo;
					
				} else if (request.readyState == 4 && request.status != 200) {
					document.getElementById("data").innerHTML = "Something is wrong!  Check the logs to see where this went off the rails";

				} else if (request.readyState == 3) {
					document.getElementById("data").innerHTML = "Too soon!  Try again";
				}
			}
		
			request.send();
			console.log("4 - Request sent");
		}
		
		*/
		
		
	</script>
</head>


<body onload="getFlightInfo()">

	<h1>Flight Info</h1>
	<div id="data">Loading...</div>
</body>
</html>